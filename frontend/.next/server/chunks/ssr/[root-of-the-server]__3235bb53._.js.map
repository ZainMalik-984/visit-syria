{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zahid/OneDrive/Desktop/Nextjs/Next%20Django/frontend/app/_lib/store/slices/authSlice.ts"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\n// Check if we're in the browser environment\r\nconst isBrowser = typeof window !== 'undefined';\r\n\r\nconst initialState = {\r\n  isAuthenticated: isBrowser ? localStorage.getItem('auth') === 'true' : false,\r\n  role: isBrowser ? localStorage.getItem('role') : null,\r\n  email: null,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {\r\n    loginSuccess: (state, action) => {\r\n      state.isAuthenticated = true;\r\n      state.role = action.payload.role;\r\n      state.email = action.payload.email;\r\n\r\n      // Only access localStorage in browser\r\n      if (isBrowser) {\r\n        localStorage.setItem('auth', 'true');\r\n        localStorage.setItem('role', action.payload.role);\r\n      }\r\n    },\r\n    logout: (state) => {\r\n      state.isAuthenticated = false;\r\n      state.role = null;\r\n      state.email = null;\r\n\r\n      // Only access localStorage in browser\r\n      if (isBrowser) {\r\n        localStorage.setItem('auth', 'false');\r\n        localStorage.removeItem('role');\r\n      }\r\n    },\r\n  }\r\n});\r\n\r\nexport const { loginSuccess, logout } = authSlice.actions;\r\nexport default authSlice.reducer;\r\n"],"names":[],"mappings":";;;;;AAAA;;AAEA,4CAA4C;AAC5C,MAAM,YAAY,gBAAkB;AAEpC,MAAM,eAAe;IACnB,iBAAiB,6EAAsD;IACvE,MAAM,6EAA2C;IACjD,OAAO;AACT;AAEA,MAAM,YAAY,CAAA,GAAA,2LAAA,CAAA,cAAW,AAAD,EAAE;IAC5B,MAAM;IACN;IACA,UAAU;QACR,cAAc,CAAC,OAAO;YACpB,MAAM,eAAe,GAAG;YACxB,MAAM,IAAI,GAAG,OAAO,OAAO,CAAC,IAAI;YAChC,MAAM,KAAK,GAAG,OAAO,OAAO,CAAC,KAAK;YAElC,sCAAsC;YACtC,uCAAe;;YAGf;QACF;QACA,QAAQ,CAAC;YACP,MAAM,eAAe,GAAG;YACxB,MAAM,IAAI,GAAG;YACb,MAAM,KAAK,GAAG;YAEd,sCAAsC;YACtC,uCAAe;;YAGf;QACF;IACF;AACF;AAEO,MAAM,EAAE,YAAY,EAAE,MAAM,EAAE,GAAG,UAAU,OAAO;uCAC1C,UAAU,OAAO","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zahid/OneDrive/Desktop/Nextjs/Next%20Django/frontend/app/_lib/store/store.ts"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\r\nimport authReducer from './slices/authSlice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: authReducer\r\n  }\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,QAAQ,CAAA,GAAA,2LAAA,CAAA,iBAAc,AAAD,EAAE;IAClC,SAAS;QACP,MAAM,2IAAA,CAAA,UAAW;IACnB;AACF","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_e531dabc.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"geist_e531dabc-module__QGiZLq__className\",\n  \"variable\": \"geist_e531dabc-module__QGiZLq__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_e531dabc.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Geist%22,%22arguments%22:[{%22variable%22:%22--font-geist-sans%22,%22subsets%22:[%22latin%22]}],%22variableName%22:%22geistSans%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Geist', 'Geist Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,qJAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,qJAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,qJAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_mono_68a01160.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"geist_mono_68a01160-module__YLcDdW__className\",\n  \"variable\": \"geist_mono_68a01160-module__YLcDdW__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_mono_68a01160.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Geist_Mono%22,%22arguments%22:[{%22variable%22:%22--font-geist-mono%22,%22subsets%22:[%22latin%22]}],%22variableName%22:%22geistMono%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Geist Mono', 'Geist Mono Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,0JAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,0JAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,0JAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zahid/OneDrive/Desktop/Nextjs/Next%20Django/frontend/app/_lib/axios/axios.ts"],"sourcesContent":["'use client'\r\n\r\nimport axios from 'axios'\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://127.0.0.1:8000/api/',\r\n  withCredentials: true,\r\n})\r\n\r\n// Setup interceptor\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const originalRequest = error.config\r\n\r\n    if (\r\n      (error.response?.status === 401 || error.response?.status === 403) &&\r\n      !originalRequest._retry\r\n    ) {\r\n      originalRequest._retry = true\r\n      try {\r\n        await axios.post(\r\n          'http://127.0.0.1:8000/api/user/token/refresh/',\r\n          {},\r\n          { withCredentials: true }\r\n        )\r\n        return api(originalRequest)\r\n      } catch (refreshError) {\r\n        // Manual redirection in component\r\n        if (typeof window !== 'undefined') {\r\n          window.location.href = '/login' // or any login/logout route\r\n        }\r\n        return Promise.reject(refreshError)\r\n      }\r\n    }\r\n\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default api\r\n"],"names":[],"mappings":";;;AAEA;AAFA;;AAIA,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,iBAAiB;AACnB;AAEA,oBAAoB;AACpB,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,IACE,CAAC,MAAM,QAAQ,EAAE,WAAW,OAAO,MAAM,QAAQ,EAAE,WAAW,GAAG,KACjE,CAAC,gBAAgB,MAAM,EACvB;QACA,gBAAgB,MAAM,GAAG;QACzB,IAAI;YACF,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CACd,iDACA,CAAC,GACD;gBAAE,iBAAiB;YAAK;YAE1B,OAAO,IAAI;QACb,EAAE,OAAO,cAAc;YACrB,kCAAkC;YAClC,uCAAmC;;YAEnC;YACA,OAAO,QAAQ,MAAM,CAAC;QACxB;IACF;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zahid/OneDrive/Desktop/Nextjs/Next%20Django/frontend/app/components/Header.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Bell } from 'lucide-react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport api from '@/_lib/axios/axios'\r\nimport { AppDispatch, RootState } from '@/_lib/store/store'\r\nimport { logout } from '@/_lib/store/slices/authSlice'\r\n\r\n\r\nconst Header = () => {\r\n  const router = useRouter()\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const isLoggedIn = useSelector((state: RootState) => state.auth.isAuthenticated)\r\n  const email = useSelector((state: RootState) => state.auth?.email) as string | null\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await api.post('/user/logout/')\r\n      dispatch(logout())\r\n      router.push('/')\r\n    } catch (err) {\r\n      console.error('Logout failed:', err)\r\n    }\r\n  }\r\n\r\n  const handleAuthToggle = () => {\r\n    isLoggedIn ? handleLogout() : router.push('/')\r\n  }\r\n\r\n  return (\r\n    <header className=\"fixed top-0 w-full bg-white shadow-md z-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 py-3 flex justify-between items-center\">\r\n        {/* Brand */}\r\n        <div className=\"text-2xl font-bold text-blue-600\">\r\n          ðŸ§  Syria <span className='text-sm'>Multi-Service Booking</span>\r\n        </div>\r\n\r\n        {/* Right Side: Icons + Button */}\r\n        <div className=\"flex items-center space-x-4\">\r\n          <button className=\"relative\">\r\n            <Bell className=\"w-5 h-5 text-gray-600 hover:text-blue-600\" />\r\n            <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full px-1\">3</span>\r\n          </button>\r\n\r\n          {isLoggedIn && (\r\n            <div className=\"w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center text-white font-bold\">\r\n              {email ? email[0].toUpperCase() : 'U'}\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            onClick={handleAuthToggle}\r\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-1 rounded-full text-sm transition\"\r\n          >\r\n            {isLoggedIn ? 'Logout' : 'Login'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AAUA,MAAM,SAAS;IACb,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,aAAa,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD,EAAE,CAAC,QAAqB,MAAM,IAAI,CAAC,eAAe;IAC/E,MAAM,QAAQ,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD,EAAE,CAAC,QAAqB,MAAM,IAAI,EAAE;IAE5D,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,6HAAA,CAAA,UAAG,CAAC,IAAI,CAAC;YACf,SAAS,CAAA,GAAA,2IAAA,CAAA,SAAM,AAAD;YACd,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,kBAAkB;QAClC;IACF;IAEA,MAAM,mBAAmB;QACvB,aAAa,iBAAiB,OAAO,IAAI,CAAC;IAC5C;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;wBAAmC;sCACvC,8OAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;8BAIrC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAO,WAAU;;8CAChB,8OAAC,kMAAA,CAAA,OAAI;oCAAC,WAAU;;;;;;8CAChB,8OAAC;oCAAK,WAAU;8CAA2E;;;;;;;;;;;;wBAG5F,4BACC,8OAAC;4BAAI,WAAU;sCACZ,QAAQ,KAAK,CAAC,EAAE,CAAC,WAAW,KAAK;;;;;;sCAItC,8OAAC;4BACC,SAAS;4BACT,WAAU;sCAET,aAAa,WAAW;;;;;;;;;;;;;;;;;;;;;;;AAMrC;uCAEe","debugId":null}},
    {"offset": {"line": 431, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zahid/OneDrive/Desktop/Nextjs/Next%20Django/frontend/app/layout.tsx"],"sourcesContent":["'use client'\n\nimport { Provider } from 'react-redux'\nimport { store } from './_lib/store/store';\nimport { Geist, Geist_Mono } from \"next/font/google\";\nimport Header from '@/components/Header';\nimport \"./globals.css\";\n\nconst geistSans = Geist({\n  variable: \"--font-geist-sans\",\n  subsets: [\"latin\"],\n});\n\nconst geistMono = Geist_Mono({\n  variable: \"--font-geist-mono\",\n  subsets: [\"latin\"],\n});\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"en\">\n      <Provider store={store}>\n        <body\n          className={`${geistSans.variable} ${geistMono.variable} antialiased`}\n        >\n          <Header />\n          {children}\n        </body>\n      </Provider>\n    </html>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAEA;AALA;;;;;;;;AAkBe,SAAS,WAAW,EACjC,QAAQ,EAGR;IACA,qBACE,8OAAC;QAAK,MAAK;kBACT,cAAA,8OAAC,yJAAA,CAAA,WAAQ;YAAC,OAAO,6HAAA,CAAA,QAAK;sBACpB,cAAA,8OAAC;gBACC,WAAW,GAAG,yIAAA,CAAA,UAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,8IAAA,CAAA,UAAS,CAAC,QAAQ,CAAC,YAAY,CAAC;;kCAEpE,8OAAC,4HAAA,CAAA,UAAM;;;;;oBACN;;;;;;;;;;;;;;;;;AAKX","debugId":null}}]
}
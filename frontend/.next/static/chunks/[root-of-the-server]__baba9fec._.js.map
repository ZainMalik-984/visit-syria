{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zahid/OneDrive/Desktop/Nextjs/Next%20Django/frontend/app/_lib/store/slices/authSlice.ts"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\n// Check if we're in the browser environment\r\nconst isBrowser = typeof window !== 'undefined';\r\n\r\nconst initialState = {\r\n  isAuthenticated: isBrowser ? localStorage.getItem('auth') === 'true' : false,\r\n  role: isBrowser ? localStorage.getItem('role') : null,\r\n  email: null,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {\r\n    loginSuccess: (state, action) => {\r\n      state.isAuthenticated = true;\r\n      state.role = action.payload.role;\r\n      state.email = action.payload.email;\r\n\r\n      // Only access localStorage in browser\r\n      if (isBrowser) {\r\n        localStorage.setItem('auth', 'true');\r\n        localStorage.setItem('role', action.payload.role);\r\n      }\r\n    },\r\n    logout: (state) => {\r\n      state.isAuthenticated = false;\r\n      state.role = null;\r\n      state.email = null;\r\n\r\n      // Only access localStorage in browser\r\n      if (isBrowser) {\r\n        localStorage.setItem('auth', 'false');\r\n        localStorage.removeItem('role');\r\n      }\r\n    },\r\n  }\r\n});\r\n\r\nexport const { loginSuccess, logout } = authSlice.actions;\r\nexport default authSlice.reducer;\r\n"],"names":[],"mappings":";;;;;AAAA;;AAEA,4CAA4C;AAC5C,MAAM,YAAY,aAAkB;AAEpC,MAAM,eAAe;IACnB,iBAAiB,uCAAY,aAAa,OAAO,CAAC,YAAY;IAC9D,MAAM,uCAAY,aAAa,OAAO,CAAC;IACvC,OAAO;AACT;AAEA,MAAM,YAAY,CAAA,GAAA,8LAAA,CAAA,cAAW,AAAD,EAAE;IAC5B,MAAM;IACN;IACA,UAAU;QACR,cAAc,CAAC,OAAO;YACpB,MAAM,eAAe,GAAG;YACxB,MAAM,IAAI,GAAG,OAAO,OAAO,CAAC,IAAI;YAChC,MAAM,KAAK,GAAG,OAAO,OAAO,CAAC,KAAK;YAElC,sCAAsC;YACtC,wCAAe;gBACb,aAAa,OAAO,CAAC,QAAQ;gBAC7B,aAAa,OAAO,CAAC,QAAQ,OAAO,OAAO,CAAC,IAAI;YAClD;QACF;QACA,QAAQ,CAAC;YACP,MAAM,eAAe,GAAG;YACxB,MAAM,IAAI,GAAG;YACb,MAAM,KAAK,GAAG;YAEd,sCAAsC;YACtC,wCAAe;gBACb,aAAa,OAAO,CAAC,QAAQ;gBAC7B,aAAa,UAAU,CAAC;YAC1B;QACF;IACF;AACF;AAEO,MAAM,EAAE,YAAY,EAAE,MAAM,EAAE,GAAG,UAAU,OAAO;uCAC1C,UAAU,OAAO","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zahid/OneDrive/Desktop/Nextjs/Next%20Django/frontend/app/_lib/store/store.ts"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\r\nimport authReducer from './slices/authSlice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: authReducer\r\n  }\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,QAAQ,CAAA,GAAA,8LAAA,CAAA,iBAAc,AAAD,EAAE;IAClC,SAAS;QACP,MAAM,8IAAA,CAAA,UAAW;IACnB;AACF","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_e531dabc.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"geist_e531dabc-module__QGiZLq__className\",\n  \"variable\": \"geist_e531dabc-module__QGiZLq__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_e531dabc.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Geist%22,%22arguments%22:[{%22variable%22:%22--font-geist-sans%22,%22subsets%22:[%22latin%22]}],%22variableName%22:%22geistSans%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Geist', 'Geist Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,wJAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,wJAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,wJAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_mono_68a01160.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"geist_mono_68a01160-module__YLcDdW__className\",\n  \"variable\": \"geist_mono_68a01160-module__YLcDdW__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_mono_68a01160.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Geist_Mono%22,%22arguments%22:[{%22variable%22:%22--font-geist-mono%22,%22subsets%22:[%22latin%22]}],%22variableName%22:%22geistMono%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Geist Mono', 'Geist Mono Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,6JAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,6JAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,6JAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zahid/OneDrive/Desktop/Nextjs/Next%20Django/frontend/app/_lib/axios/axios.ts"],"sourcesContent":["'use client'\r\n\r\nimport axios from 'axios'\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://127.0.0.1:8000/api/',\r\n  withCredentials: true,\r\n})\r\n\r\n// Setup interceptor\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const originalRequest = error.config\r\n\r\n    if (\r\n      (error.response?.status === 401 || error.response?.status === 403) &&\r\n      !originalRequest._retry\r\n    ) {\r\n      originalRequest._retry = true\r\n      try {\r\n        await axios.post(\r\n          'http://127.0.0.1:8000/api/user/token/refresh/',\r\n          {},\r\n          { withCredentials: true }\r\n        )\r\n        return api(originalRequest)\r\n      } catch (refreshError) {\r\n        // Manual redirection in component\r\n        if (typeof window !== 'undefined') {\r\n          window.location.href = '/login' // or any login/logout route\r\n        }\r\n        return Promise.reject(refreshError)\r\n      }\r\n    }\r\n\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default api\r\n"],"names":[],"mappings":";;;AAEA;AAFA;;AAIA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,iBAAiB;AACnB;AAEA,oBAAoB;AACpB,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,IACE,CAAC,MAAM,QAAQ,EAAE,WAAW,OAAO,MAAM,QAAQ,EAAE,WAAW,GAAG,KACjE,CAAC,gBAAgB,MAAM,EACvB;QACA,gBAAgB,MAAM,GAAG;QACzB,IAAI;YACF,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CACd,iDACA,CAAC,GACD;gBAAE,iBAAiB;YAAK;YAE1B,OAAO,IAAI;QACb,EAAE,OAAO,cAAc;YACrB,kCAAkC;YAClC,wCAAmC;gBACjC,OAAO,QAAQ,CAAC,IAAI,GAAG,SAAS,4BAA4B;;YAC9D;YACA,OAAO,QAAQ,MAAM,CAAC;QACxB;IACF;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zahid/OneDrive/Desktop/Nextjs/Next%20Django/frontend/app/components/Header.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Bell } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport api from '@/_lib/axios/axios'\r\nimport { AppDispatch, RootState } from '@/_lib/store/store'\r\nimport { logout } from '@/_lib/store/slices/authSlice'\r\n\r\nconst Header = () => {\r\n  const router = useRouter()\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  const { isAuthenticated, email } = useSelector((s: RootState) => s.auth) as { \r\n    isAuthenticated: boolean; \r\n    email: string | null \r\n  }\r\n\r\n  /* ----------------  handlers  ---------------- */\r\n  const handleLogout = async () => {\r\n    try {\r\n      await api.post('/user/logout/')\r\n      dispatch(logout())\r\n      router.push('/')\r\n    } catch (err) {\r\n      console.error('Logout failed: ', err)\r\n    }\r\n  }\r\n\r\n  const handleAuthToggle = () =>\r\n    isAuthenticated ? handleLogout() : router.push('/')\r\n\r\n  /* ----------------  ui  ---------------- */\r\n  return (\r\n    <header className=\"sticky top-0 inset-x-0 z-50 bg-white/85 dark:bg-zinc-900/85 backdrop-blur-xl border-b border-zinc-200/50 dark:border-zinc-800/50 transition-all duration-300\">\r\n      <div className=\"mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8\">\r\n        {/* ---------- Brand ---------- */}\r\n        <Link\r\n          href=\"/\"\r\n          className=\"group flex items-center space-x-2 text-xl font-black tracking-tight text-blue-600 dark:text-blue-400 md:text-2xl transition-all duration-200 hover:scale-105\"\r\n        >\r\n          <span className=\"text-2xl group-hover:animate-pulse\">ðŸ§ </span>\r\n          <div className=\"flex flex-col\">\r\n            <span className=\"leading-none\">Syria</span>\r\n            <span className=\"text-[10px] font-medium text-zinc-500 dark:text-zinc-400 hidden sm:block\">\r\n              Multi-Service Booking\r\n            </span>\r\n          </div>\r\n        </Link>\r\n\r\n        {/* ---------- Right side ---------- */}\r\n        <div className=\"flex items-center gap-2 sm:gap-4\">\r\n          {/* Notification */}\r\n          <button\r\n            aria-label=\"Notifications\"\r\n            className=\"group relative flex h-10 w-10 items-center justify-center rounded-full text-zinc-600 transition-all duration-200 hover:bg-zinc-100 hover:text-blue-600 hover:scale-110 active:scale-95 dark:text-zinc-300 dark:hover:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\r\n          >\r\n            <Bell className=\"h-5 w-5 transition-transform group-hover:rotate-12\" />\r\n            <span className=\"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-r from-red-500 to-pink-500 text-[10px] font-bold text-white shadow-lg animate-pulse\">\r\n              3\r\n            </span>\r\n          </button>\r\n\r\n          {/* Avatar */}\r\n          {isAuthenticated && (\r\n            <div className=\"group relative\">\r\n              <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 via-purple-500 to-violet-600 text-sm font-bold text-white shadow-lg ring-2 ring-blue-400/50 dark:ring-violet-500/50 transition-all duration-200 hover:scale-110 hover:shadow-xl cursor-pointer\">\r\n                {email ? email[0].toUpperCase() : 'U'}\r\n              </div>\r\n              {/* Tooltip */}\r\n              <div className=\"absolute -bottom-8 left-1/2 transform -translate-x-1/2 px-2 py-1 bg-black text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap\">\r\n                {email}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Login / Logout */}\r\n          <button\r\n            onClick={handleAuthToggle}\r\n            className=\"group relative overflow-hidden rounded-full bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2 text-sm font-semibold text-white shadow-lg transition-all duration-200 hover:from-blue-700 hover:to-blue-800 hover:scale-105 hover:shadow-xl active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\r\n          >\r\n            <span className=\"relative z-10\">\r\n              {isAuthenticated ? 'Logout' : 'Login'}\r\n            </span>\r\n            {/* Ripple effect */}\r\n            <span className=\"absolute inset-0 h-full w-full scale-0 rounded-full bg-white/20 transition-transform duration-300 group-active:scale-100\" />\r\n            {/* Shimmer effect */}\r\n            <span className=\"absolute inset-0 -skew-x-12 translate-x-[-200%] bg-gradient-to-r from-transparent via-white/20 to-transparent transition-transform duration-700 group-hover:translate-x-[200%]\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AAEA;;;AARA;;;;;;;AAUA,MAAM,SAAS;;IACb,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;IAE3B,MAAM,EAAE,eAAe,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;8BAAE,CAAC,IAAiB,EAAE,IAAI;;IAKvE,gDAAgD,GAChD,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,gIAAA,CAAA,UAAG,CAAC,IAAI,CAAC;YACf,SAAS,CAAA,GAAA,8IAAA,CAAA,SAAM,AAAD;YACd,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,mBAAmB;QACnC;IACF;IAEA,MAAM,mBAAmB,IACvB,kBAAkB,iBAAiB,OAAO,IAAI,CAAC;IAEjD,0CAA0C,GAC1C,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC,+JAAA,CAAA,UAAI;oBACH,MAAK;oBACL,WAAU;;sCAEV,6LAAC;4BAAK,WAAU;sCAAqC;;;;;;sCACrD,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAK,WAAU;8CAAe;;;;;;8CAC/B,6LAAC;oCAAK,WAAU;8CAA2E;;;;;;;;;;;;;;;;;;8BAO/F,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BACC,cAAW;4BACX,WAAU;;8CAEV,6LAAC,qMAAA,CAAA,OAAI;oCAAC,WAAU;;;;;;8CAChB,6LAAC;oCAAK,WAAU;8CAAoL;;;;;;;;;;;;wBAMrM,iCACC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;8CACZ,QAAQ,KAAK,CAAC,EAAE,CAAC,WAAW,KAAK;;;;;;8CAGpC,6LAAC;oCAAI,WAAU;8CACZ;;;;;;;;;;;;sCAMP,6LAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,6LAAC;oCAAK,WAAU;8CACb,kBAAkB,WAAW;;;;;;8CAGhC,6LAAC;oCAAK,WAAU;;;;;;8CAEhB,6LAAC;oCAAK,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM5B;GApFM;;QACW,qIAAA,CAAA,YAAS;QACP,4JAAA,CAAA,cAAW;QAEO,4JAAA,CAAA,cAAW;;;KAJ1C;uCAsFS","debugId":null}},
    {"offset": {"line": 389, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zahid/OneDrive/Desktop/Nextjs/Next%20Django/frontend/app/layout.tsx"],"sourcesContent":["'use client'\n\nimport { Provider } from 'react-redux'\nimport { store } from './_lib/store/store';\nimport { Geist, Geist_Mono } from \"next/font/google\";\nimport Header from '@/components/Header';\nimport \"./globals.css\";\n\nconst geistSans = Geist({\n  variable: \"--font-geist-sans\",\n  subsets: [\"latin\"],\n});\n\nconst geistMono = Geist_Mono({\n  variable: \"--font-geist-mono\",\n  subsets: [\"latin\"],\n});\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"en\">\n      <Provider store={store}>\n        <body\n          className={`${geistSans.variable} ${geistMono.variable} antialiased`}\n        >\n          <Header />\n          {children}\n        </body>\n      </Provider>\n    </html>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAEA;AALA;;;;;;;;AAkBe,SAAS,WAAW,EACjC,QAAQ,EAGR;IACA,qBACE,6LAAC;QAAK,MAAK;kBACT,cAAA,6LAAC,4JAAA,CAAA,WAAQ;YAAC,OAAO,gIAAA,CAAA,QAAK;sBACpB,cAAA,6LAAC;gBACC,WAAW,GAAG,4IAAA,CAAA,UAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,iJAAA,CAAA,UAAS,CAAC,QAAQ,CAAC,YAAY,CAAC;;kCAEpE,6LAAC,+HAAA,CAAA,UAAM;;;;;oBACN;;;;;;;;;;;;;;;;;AAKX;KAjBwB","debugId":null}}]
}